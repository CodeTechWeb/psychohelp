<app-layout>
  <div class="w-full h-full">
    <mat-grid-list cols="8" class="mt-20">
      <mat-grid-tile [colspan]="2" [rowspan]="3">
        <div class="content">
          <div fxLayout="row wrap">
            <mat-card class="mat-elevation-z4">
              <mat-card-title>Elige un psicólogo usuario:</mat-card-title>
              <mat-card-title>{{patients.lastName + ' ' + patients.firstName}}</mat-card-title>
              <mat-card-title>Filtros</mat-card-title>
              <mat-card-subtitle>Género</mat-card-subtitle>
              <mat-card-actions>
                <mat-radio-group class="example-radio-group" [(ngModel)]="genreSelected" (change)="filter(genreSelected, typeSessionSelected)">
                  <mat-radio-button class="example-radio-button" *ngFor="let genre of genres" [value]="genre">{{genre}}</mat-radio-button>
                </mat-radio-group>
              </mat-card-actions>
              <mat-card-subtitle>Tipo de Sesión</mat-card-subtitle>
              <mat-card-actions>
                <mat-radio-group class="example-radio-group" [(ngModel)]="typeSessionSelected" (change)="filter(genreSelected, typeSessionSelected)">
                  <mat-radio-button class="example-radio-button" *ngFor="let typeSession of typeSessions" [value]="typeSession">{{typeSession}}</mat-radio-button>
                </mat-radio-group>
              </mat-card-actions>
              <mat-card-actions>
                <button mat-raised-button (click)="getAllPsychologists()">Limpiar</button>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>

      </mat-grid-tile>
      <mat-grid-tile [colspan]="6" [rowspan]="3">
        <div class="content">
          <div fxLayout="row wrap" fxLayoutGap="16px grid">
            <div fxFlex="100%" *ngFor="let psychologist of filterGenre">
              <mat-card class="mat-elevation-z4">
                <mat-card-header>
                  <img mat-card-avatar [src]="psychologist.image">
                  <mat-card-title style="font-size: 18px">{{psychologist.name}}</mat-card-title>
                  <mat-card-subtitle>{{psychologist.email}}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content class="line-clamp text-justify">{{psychologist.about}}</mat-card-content>
                <mat-card-actions style="text-align: end;">
                  <button mat-button (click)="openPsychologistDialog(psychologist)">Profile</button>
                  <button mat-button (click)="openScheduleDialog(psychologist, patients)">AGENDAR CITA</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
</app-layout>

<style>
  .line-clamp {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    overflow: hidden;
    -webkit-box-orient: vertical;
    }

  .example-radio-group {
    display: flex;
    flex-direction: column;

  }

  .example-radio-button {
    margin: 5px;
  }



</style>
